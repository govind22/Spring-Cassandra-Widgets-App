#### APPLICATION DETAILS ####

Project: Implement a service to create, update, and return â€œwidgets"

Requirements
Widgets have an ID generated by the service upon creation
Widgets have an owner, type, and color
Owners are represented by IDs
Widgets should be retrievable by their widget ID
Widgets should be retrievable by owner ID as a pageable list ordered by recency
A count of widgets should be retrievable by owner ID

Implmentation
An owner can have millions of widgets
The service should horizontally scale as needed
The service architecture should use a multi-layered approach
The service endpoints should be RESTful
Implement the service in Java Using Spring MVC
Cassandra is the preferred data store.

#### HOW TO USE ####

You have to have Cassandra local instance running on your machine , pointing at 127.0.0.1
it's single cluster and single node configuration.

Use KeySpaceName = cwt;  
cluster = Cluster.builder().addContactPoint("127.0.0.1").build();
session = cluster.connect("cwt");

Also create schema before using this app so that you can do CRUD opeation using schema tables.
pls refer to schema section from this doc.

Then simply run the application or the cassandra.widget-0.0.1-SNAPSHOT.jar file.

#### SCHEMA ####

// Code Static configuration

cluster = Cluster.builder().addContactPoint("127.0.0.1").build();
session = cluster.connect("cwt");

// Schema Information 

CREATE KEYSPACE cwt WITH replication = {'class': 'SimpleStrategy', 'replication_factor': '1'}  AND durable_writes = true;

CREATE TABLE cwt.widget (
    id uuid PRIMARY KEY,
    owner_id text
) WITH comment = "widget table";

CREATE TABLE cwt.owner_widget_counts (
    id text PRIMARY KEY,
    counter_value counter
) WITH comment = "owner widget count table"

CREATE TABLE cwt.owner (
    id text,
    widget_id uuid,
    color text,
    type int,
    PRIMARY KEY (id, widget_id)
) WITH comment = "owner table";

#### SERVICES ####

Widget Controller

1 - Get by widget id

GET http://localhost:8080/widgets/{id}   - id type UUID

http://localhost:8080/widgets/55b0f800-f424-11e6-b08e-c19df8e5ed03

Error Codes
// 200 - Ok
// 400 - Bad id (unable to convert UUID)
// 404 - Not Found


2 - Create widget

POST http://localhost:8080/widgets

Ex : http://localhost:8080/widgets

    Request Body : {"owner_id":"Govind", "color":"blue", "type" : 8}  - All fields mandatory

	{"statusType":"CREATED","entity":"created widget with id : 73f88ae0-f478-11e6-b360-c735dbd2e218","entityType":"java.lang.String","status":201,"metadata":{}}
	
Error Codes
// 201 - Created
// 400 - Bad id (unable to convert UUID)
// 404 - Not Found


Owner Controller

GET http://localhost:8080/owners/{id}/widgets?page={pageNum}&per_page={pageSize}

Ex : http://localhost:8080/owners/Jacky/widgets?page=1&per_page=5
     
	 {"statusType":"OK","entity":[{"id":"Jacky","widget_id":"97b94ac0-f476-11e6-b360-c735dbd2e218","color":"blue","type":8},{"id":"Jacky","widget_id":"9b0679f0-f476-11e6-b360-c735dbd2e218","color":"yellow","type":8},{"id":"Jacky","widget_id":"9f740d40-f476-11e6-b360-c735dbd2e218","color":"darkblue","type":8}],"entityType":"java.util.ArrayList","status":200,"metadata":{}}
	 
Error Codes
// 200 - Ok
// 400 - Bad params
// 404 -owner Not Found


Widget Count controller

GET http://localhost:8080/owner/{owner_id}/widgetcounts

Ex: http://localhost:8080/owner/Jacky/widgetcounts

{"statusType":"OK","entity":3,"entityType":"java.lang.Long","status":200,"metadata":{}}

Error Codes
// 200 - Ok
// 400 - Bad params
// 404 -owner Not Found
